<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Mitch’s Auto Services – Mobile Mechanic • Stockton-on-Tees</title>
<meta name="description" content="Vehicle checks with DVLA data. Book MOT prep, services, and repairs. Free call-out within 15 miles of Unit 5, Wingate Grange Industrial Estate, TS28 5AH.">

<style>
  :root {
    --brand:#F06407;    /* orange highlight */
    --bg1:#0b0e13;      /* dark background */
    --bg2:#1a1f2b;      /* card background */
    --ink:#EDEDED;      /* text */
    --muted:#9aa1ac;    /* secondary text */
    --line:#2a3546;     /* borders */
    --ok:#9cffb0;       /* success */
    --err:#ff9c9c;      /* error */
  }

  * { box-sizing:border-box; }
  html,body { height:100%; margin:0; }
  body {
    background: linear-gradient(180deg, var(--bg1), #111827);
    color: var(--ink);
    font-family: system-ui, Inter, Arial, sans-serif;
    line-height:1.45;
  }

  a { color: var(--brand); text-decoration:none; }
  a:hover { text-decoration:underline; }

  .container { max-width:1140px; margin:0 auto; padding:20px 16px 48px; }

  /* HERO */
  .hero {
    background: radial-gradient(80% 60% at 15% 20%, rgba(240,100,7,.18), transparent 60%),
                radial-gradient(70% 40% at 90% 0%, rgba(74,68,67,.3), transparent 60%),
                linear-gradient(180deg, #0b0e13, #0f1625);
    border-bottom:1px solid var(--line);
  }
  .hero-inner { max-width:1140px; margin:0 auto; padding:28px 16px 24px; }
  .topbar { display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:18px; flex-wrap:wrap; }
  .brand { font-weight:900; letter-spacing:.2px; color:var(--brand); font-size:22px; }
  .badge { background:rgba(240,100,7,.15); color:#ffd9c5; border:1px dashed var(--brand); padding:6px 10px; border-radius:999px; font-size:12px; }

  .card { background:var(--bg2); border:1px solid var(--line); border-radius:16px; padding:18px; box-shadow:0 4px 10px rgba(0,0,0,.5); }
  .section { margin-top:26px; }
  .section h2 { margin:0 0 10px; font-size:clamp(18px,2.6vw,26px); color:var(--brand); }

  /* FORM */
  label { display:block; font-weight:700; margin:6px 0; }
  input, select, button {
    padding:12px; border-radius:10px;
    border:1px solid var(--line);
    background:#0d121a; color:var(--ink);
    font-size:16px;
  }
  input:focus,select:focus { outline:2px solid var(--brand); }
  button {
    cursor:pointer; background:var(--brand); color:#111;
    font-weight:800; border:none; transition:all .2s;
  }
  button:hover { background:#ff7a26; }
  button.ghost { background:transparent; border:1px solid var(--line); color:var(--ink); }
  button[disabled]{ opacity:.6; cursor:not-allowed; }

  .plate { display:flex; gap:10px; align-items:center; background:#161b25; border:1px solid #2a3546; padding:10px; border-radius:12px; }
  .plate::before { content:"GB"; font-weight:800; background:#1b3ea5; color:#fff; border-radius:6px; padding:6px 8px; }

  .chips { display:flex; gap:8px; flex-wrap:wrap; }
  .chip { display:inline-flex; align-items:center; gap:8px; padding:8px 10px; border:1px solid #314056; border-radius:12px; background:#0e141d; cursor:pointer; }
  .chip input { accent-color:var(--brand); }

  .muted { color:var(--muted); }
  .err { color:var(--err); }
  .ok { color:var(--ok); }
  .fine { font-size:12px; color:#8a93a3; }

  footer { margin-top:28px; color:var(--muted); font-size:14px; display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap; border-top:1px solid var(--line); padding-top:16px; }
</style>
</head>
<body>

<section class="hero">
  <div class="hero-inner">
    <div class="topbar">
      <div class="brand">Mitch’s Auto Services</div>
      <div class="badge">Unit 5, Wingate Grange Industrial Estate, TS28 5AH</div>
    </div>
    <div class="card">
      <h2>Check your number plate</h2>
      <form id="vrmForm" novalidate>
        <label for="vrm">Registration (VRM)</label>
        <div class="plate">
          <input id="vrm" placeholder="e.g. AB12 CDE" maxlength="8" autocomplete="off" required />
          <button id="lookupBtn" type="submit">Look up</button>
        </div>
      </form>
      <div id="vehicleCard" style="display:none;margin-top:10px">
        <div id="vehTitle" class="muted"></div>
        <div id="vehMeta" class="muted"></div>
        <div id="vehReg" class="muted"></div>
      </div>
      <div id="error" class="err" style="display:none"></div>
    </div>
  </div>
</section>

<div class="container">
  <section class="section">
    <div class="card">
      <h2>Services</h2>
      <div id="serviceChips" class="chips"></div>
    </div>
  </section>

  <footer>
    <span>© Mitch’s Auto Services</span>
    <span>Free call-out within 15 miles, £25 beyond</span>
  </footer>
</div>

<script>
/* CONFIG */
const API_URL = '/api/vrm';
const SERVICES = [
  { id:'air_filter', label:'Air Filter Replacement — from £30', desc:'Replacing your air filter helps your engine breathe better and improves performance.' },
  { id:'pre_mot', label:'Pre-MOT Diagnosis & Repair — from £150', desc:'If you’ve got your MOT coming up, we’ll do a full MOT check so you don’t waste money going back twice.' },
  { id:'basic_service', label:'Basic Service — from £100', desc:'Includes oil & filter change, air filter, pollen filter, coolant, tyre & light checks, and battery inspection.' }
];

/* DOM */
const $=id=>document.getElementById(id);
const vrmInput=$('vrm'), lookupBtn=$('lookupBtn'),
      vehicleCard=$('vehicleCard'), vehTitle=$('vehTitle'),
      vehMeta=$('vehMeta'), vehReg=$('vehReg'), errorBox=$('error'),
      serviceChips=$('serviceChips');

$('vrmForm').addEventListener('submit', async (e)=>{
  e.preventDefault();
  errorBox.style.display='none';
  const vrm=vrmInput.value.toUpperCase().replace(/\s+/g,'');
  if(vrm.length<5){ errorBox.textContent='Please enter a valid UK registration.'; errorBox.style.display='block'; return; }
  lookupBtn.disabled=true; lookupBtn.textContent='Looking…';
  try {
    const res=await fetch(API_URL,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({vrm})});
    const data=await res.json();
    if(!res.ok) throw new Error(data?.error||'Lookup failed');
    vehTitle.innerHTML=`<strong>${data.make||''} ${data.model||''}</strong>`;
    vehMeta.textContent=[data.fuelType, data.engineCapacity? (data.engineCapacity/1000).toFixed(1)+'L':null].filter(Boolean).join(' • ');
    vehReg.textContent='Reg: '+vrm;
    vehicleCard.style.display='block';
  } catch(err){ errorBox.textContent=err.message; errorBox.style.display='block'; }
  lookupBtn.disabled=false; lookupBtn.textContent='Look up';
});

function renderServices(){
  serviceChips.innerHTML=SERVICES.map(s=>
    `<label class="chip"><input type="radio" name="srv" value="${s.id}"><span>${s.label}</span></label>`
  ).join('');
}
renderServices();
</script>
</body>
</html>
